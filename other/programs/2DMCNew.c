#include<stdio.h>
#include<stdlib.h>
#include<windows.h>
int main()
{
    int i11,wp=49,x11=1,y11=1,xue11=100,xueb=49,xues=48,xueg=48,xy=9,yy=11,xn=6,yn=38,xz=17,yz=6,yjs,njs,zjs,xuey=100,xueyb=49,xueys=48,xueyg=48,xuen=100,xuenb=49,xuens=48,xueng=48,xuez=100,xuezb=49,xuezs=48,xuezg=48;
    //数字血量+48=字符血量
    char close;
    char qp[100][100]= {"$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$  $$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$",
                        "$             #              #              $  $你的血量：    $所有物品：    $",
                        "$             #              #              $  $羊的血量：    $1:普通方块@   $",
                        "$             #              #              $  $牛的血量：    $2:门|或_      $",
                        "$             #              #              $  $猪的血量：    $3:            $",
                        "$             #              #              $  $按h获得帮助   $4:炸药        $",
                        "$             #              #              $  $$$$$$$$$$$$$$$$5:电线x或X    $",
                        "$             #              #              $  $现选择物品：  $6:发电机O或o  $",
                        "$             #              #              $  $              $              $",
                        "$             #              #              $  $TTTjTTT$              $",
                        "$             #              #              $  $      U      $              $",
                        "$###########################################$  $      U      $              $",
                        "$             #              #              $  $      U      $              $",
                        "$             #              #              $  $      U      $              $",
                        "$             #              #              $  $现在的→      $              $",
                        "$             #              #              $  $      U      $              $",
                        "$             #              #              $  $      U      $              $",
                        "$             #              #              $  $      U      $              $",
                        "$             #              #              $  $      U      $              $",
                        "$             #              #              $  $TTTmTTT$              $",
                        "$             #              #              $  $(使用'-'或'+' $              $",
                        "$             #              #              $  $更换物品栏)   $              $",
                        "$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$  $$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$",
                       },z;
    char zjm[100][100]= {"#######---------------------------------------------------------------------*",
                         "######                                                                      |",
                         "#####                   #####             #####                             |",
                         "####                   #######           #######                            |",
                         "###                   ####### #         # #######                           |",
                         "##                   ######存             活######                          |",
                         "#                                                                           |",
                         "|                            XTTTT[                                   |",
                         "|                            U ~游戏~ U←1                                |",
                         "|                            ^TjjTa                                   |",
                         "|                            XTmmT[                                   |",
                         "|                            U ~帮助~ U←2                                |",
                         "|                            ^TjjTa                                   |",
                         "|                            XTmmT[                                   |",
                         "|                            U ~菜单~ U←3                                |",
                         "|                            ^TTTTa                                   |",
                         "|                                                                           |",
                         "|                                                                           |",
                         "|                                                                           |",
                         "|                                                                 XTT[  |",
                         "|                                                              c→U退出U  |",
                         "|                                                                 ^TTa  |",
                         "*---------------------------------------------------------------------------*",
                        },b1;
    char yx[100][100]= {"*---------------------------------------------------------------------------*",
                        "|主界面/游戏                                                                |",
                        "|      XTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT[     |",
                        "|      U     名称TTTTTTTTTTTTTTTTTT名称          -U     |",
                        "|      U                                                           |U     |",
                        "|      U                                                           |U     |",
                        "|      U                                                           |U     |",
                        "|      U                                                           |U     |",
                        "|      U                                                           |U     |",
                        "|      U                                                           |U     |",
                        "|      U                                                           |U     |",
                        "|      U                                                           |U     |",
                        "|      U                                                           |U     |",
                        "|      U     名称TTTTTTTTTTTTTTTTTT名称          +U     |",
                        "|      ^TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTa     |",
                        "|                                                                           |",
                        "|      XTTTTTTT[                     XTTTTTT[              |",
                        "|      U进入选中的游戏U←1                  U新建一个游戏U←2           |",
                        "|      ^TTTTTTTa                     ^TTTTTTa              |",
                        "|                                                                 XTT[  |",
                        "|                                                              c→U返回U  |",
                        "|                                                                 ^TTa  |",
                        "*---------------------------------------------------------------------------*",
                       },b2,yxxz;
    int zxbx=4;
    char xj[100][100]= {"*---------------------------------------------------------------------------*",
                        "|主界面/游戏/新建                                                           |",
                        "|      XTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT[     |",
                        "|      U创建游戏                    _|----------|_                 |U     |",
                        "|      U            ###            |   Survival   |                |U     |",
                        "|      U          ##  ##          |______GAME______|               |U     |",
                        "|      U           ####           |                |               |U     |",
                        "|      U           ###  @         |   Start game   |               |U     |",
                        "|      U          # # # |         |                |               |U     |",
                        "|      U         # # # ##         |   __________   |               |U     |",
                        "|      U           # #            |   |   ||   |   |               |U     |",
                        "|      U__________##_##___________|___|___||___|___|______________ |U     |",
                        "|      U                                                           |U     |",
                        "|      U                                                           |U     |",
                        "|      U                                                           |U     |",
                        "|      ^TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTa     |",
                        "|                                                                           |",
                        "|      XTTTT[                                                         |",
                        "|      U确定创建U←1                                                      |",
                        "|      ^TTTTa                                               XTT[  |",
                        "|                                                              c→U取消U  |",
                        "|                                                                 ^TTa  |",
                        "*---------------------------------------------------------------------------*",
                       },b3;
    int mci=1,mz=48;
    yx[zxbx][13]='>';
    for(i11=0; i11<=23; i11++)
        puts(zjm[i11]);
    FILE *fp;
    while(1)
    {
        char b11[100]= {mz,'.','t','x','t'};
        fp=fopen(b11,"r+");
        if(fp==NULL)
            break;
        //fscanf(fp,"%d\n%d\n%d\n%d\n%d\n%d\n%d\n%d\n%d\n%d\n%d\n%d\n%d\n",&wp,&x11,&y11,&xue11,&xy,&yy,&xn,&yn,&xz,&yz,&xuey,&xuen,&xuez);//13个
        mz++;
        yx[4][14]=(mz-48)/1000+48;
        yx[4][15]=(mz-48)%1000/100+48;
        yx[4][16]=(mz-48)%1000%100/10+48;
        yx[4][17]=(mz-48)%1000%100%10+48;
        fclose(fp);
        fp=fopen(b11,"r+");
    }
    while(1)
    {
        b1=getch();
        system("cls");
        if(b1=='1')
        {
            for(i11=0; i11<=22; i11++)
                puts(yx[i11]);
            while(1)
            {
                b2=getch();
                if(b2=='-')
                {
                    yx[zxbx][13]=' ';
                    if(zxbx==4)
                    {
                        zxbx=12;
                    }
                    else
                    {
                        zxbx--;
                    }
                    yx[zxbx][13]='>';
                }
                else if(b2=='+')
                {
                    yx[zxbx][13]=' ';
                    if(zxbx==12)
                    {
                        zxbx=4;
                    }
                    else
                    {
                        zxbx++;
                    }
                    yx[zxbx][13]='>';
                }
                else if(b2=='1')
                {
                    if(yx[zxbx][14]!=' ')
                    {
                        yxxz=1000*(yx[zxbx][14]-48)+100*(yx[zxbx][15]-48)+10*(yx[zxbx][16]-48)+yx[zxbx][17]-48;
                        system("cls");
                        printf("正在加载中");
                        fscanf(fp,"%d\n%d\n%d\n%d\n%d\n%d\n%d\n%d\n%d\n%d\n%d\n%d\n%d\n",&wp,&x11,&y11,&xue11,&xy,&yy,&xn,&yn,&xz,&yz,&xuey,&xuen,&xuez);//13个
                        printf(".");
                        Sleep(1000);
                        printf(".");
                        Sleep(1000);
                        printf(".");
                        system("cls");
                        ////////////////////
                        /*
                        "$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$  $$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$",
                        "$             #              #              $  $你的血量：    $所有物品：    $",
                        "$             #              #              $  $羊的血量：    $1:普通方块@   $",
                        "$             #              #              $  $牛的血量：    $2:门|或_      $",
                        "$             #              #              $  $猪的血量：    $3:            $",
                        "$             #              #              $  $按h获得帮助   $4:炸药        $",
                        "$             #              #              $  $$$$$$$$$$$$$$$$5:电线x或X    $",
                        "$             #              #              $  $现选择物品：  $6:发电机O或o  $",
                        "$             #              #              $  $              $              $",
                        "$             #              #              $  $TTTjTTT$              $",
                        "$             #              #              $  $      U      $              $",
                        "$###########################################$  $      U      $              $",
                        "$             #              #              $  $      U      $              $",
                        "$             #              #              $  $      U      $              $",
                        "$             #              #              $  $现在的→      $              $",
                        "$             #              #              $  $      U      $              $",
                        "$             #              #              $  $      U      $              $",
                        "$             #              #              $  $      U      $              $",
                        "$             #              #              $  $      U      $              $",
                        "$             #              #              $  $TTTmTTT$              $",
                        "$             #              #              $  $(使用'-'或'+' $              $",
                        "$             #              #              $  $更换物品栏)   $              $",
                        "$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$  $$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$",

                        wp,x11,y11,xue11,xy,yy,xn,yn,xz,yz,xuey,xuen,xuez*/
                        printf("用WSAD键控制人物移动\n使用'-'或'+'更换物品栏\n按1往人物所指方向放置方块，按2在人物所指方向破坏方块\n动物：Y：羊，N：牛，Z：猪\n按h提示帮助");
                        Sleep(1000);
                        char qp[100][100]= {"$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$  $$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$",
                                            "$             #              #              $  $你的血量：    $所有物品：    $",
                                            "$             #              #              $  $羊的血量：    $1:普通方块@   $",
                                            "$             #              #              $  $牛的血量：    $2:门|或_      $",
                                            "$             #              #              $  $猪的血量：    $3:            $",
                                            "$             #              #              $  $按h获得帮助   $4:炸药        $",
                                            "$             #              #              $  $$$$$$$$$$$$$$$$5:电线x或X    $",
                                            "$             #              #              $  $现选择物品：  $6:发电机O或o  $",
                                            "$             #              #              $  $              $              $",
                                            "$             #              #              $  $TTTjTTT$              $",
                                            "$             #              #              $  $      U      $              $",
                                            "$###########################################$  $      U      $              $",
                                            "$             #              #              $  $      U      $              $",
                                            "$             #              #              $  $      U      $              $",
                                            "$             #              #              $  $现在的→      $              $",
                                            "$             #              #              $  $      U      $              $",
                                            "$             #              #              $  $      U      $              $",
                                            "$             #              #              $  $      U      $              $",
                                            "$             #              #              $  $      U      $              $",
                                            "$             #              #              $  $TTTmTTT$              $",
                                            "$             #              #              $  $(使用'-'或'+' $              $",
                                            "$             #              #              $  $更换物品栏)   $              $",
                                            "$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$  $$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$",
                                           };
                        system("cls");
                        qp[x11][y11]=24;
                        qp[xy][yy]=='Y';
                        qp[xn][yn]=='N';
                        qp[xz][yz]=='Z';
                        if(wp-4>48)
                            qp[10][56]=wp-4;
                        if(wp-3>48)
                            qp[11][56]=wp-3;
                        if(wp-2>48)
                            qp[12][56]=wp-2;
                        if(wp-1>48)
                            qp[13][56]=wp-1;
                        qp[14][56]=wp;
                        if(wp+1<58)
                            qp[15][56]=wp+1;
                        if(wp+2<58)
                            qp[16][56]=wp+2;
                        if(wp+3<58)
                            qp[17][56]=wp+3;
                        if(wp+4<58)
                            qp[18][56]=wp+4;

                        xueb=xue11/100+48;
                        xues=xue11%100/10+48;
                        xueg=xue11%100%10+48;
                        qp[1][58]=xueb;
                        qp[1][59]=xues;
                        qp[1][60]=xueg;
                        xueyb=xuey/100+48;
                        xueys=xuey%100/10+48;
                        xueyg=xuey%100%10+48;
                        qp[2][58]=xueyb;
                        qp[2][59]=xueys;
                        qp[2][60]=xueyg;
                        xuenb=xuen/100+48;
                        xuens=xuen%100/10+48;
                        xueng=xuen%100%10+48;
                        qp[3][58]=xuenb;
                        qp[3][59]=xuens;
                        qp[3][60]=xueng;
                        xuezb=xuez/100+48;
                        xuezs=xuez%100/10+48;
                        xuezg=xuez%100%10+48;
                        qp[2][58]=xuezb;
                        qp[2][59]=xuezs;
                        qp[2][60]=xuezg;
                        qp[5][69]=19;
                        for(i11=0; i11<=22; i11++)
                            puts(qp[i11]);
                        while(xue11>0)
                        {
                            z=getch();
                            if(z=='+')
                            {
                                wp++;
                            }
                            if(z=='-')
                            {
                                wp--;
                            }
                            if(z=='h')
                            {
                                system("cls");
                                printf("用WSAD键控制人物移动\n使用'-'或'+'更换物品栏\n按1在人物所指方向放置方块，按2在人物所指方向破坏方块\n动物：Y：羊，N：牛，Z：猪\n你的血量：%d\n羊的血量：%d，猪的血量：%d，牛的血量：%d\n任意输入关闭提示帮助\n",xue11,xuey,xuez,xuen);
                                close=getch();
                                system("cls");
                            }
                            if(z=='w')
                            {
                                qp[x11][y11]=' ';
                                if(qp[x11-1][y11]==' ')
                                {
                                    x11--;
                                }
                                else if(qp[x11-1][y11]=='|'&&qp[x11-2][y11]!='$')
                                {
                                    x11=x11-2;
                                    qp[x11+1][y11]='|';
                                }
                                qp[x11][y11]=24;
                            }


                            if(z=='a')
                            {
                                qp[x11][y11]=' ';
                                if(qp[x11][y11-1]==' ')
                                {
                                    y11--;
                                }
                                else if(qp[x11][y11-1]=='|'&&qp[x11][y11-2]!='$')
                                {
                                    y11=y11-2;
                                    qp[x11][y11+1]='|';
                                }
                                qp[x11][y11]=27;
                            }


                            if(z=='d')
                            {
                                qp[x11][y11]=' ';
                                if(qp[x11][y11+1]==' ')
                                {
                                    y11++;
                                }
                                else if(qp[x11][y11+1]=='|'&&qp[x11][y11+2]!='$')
                                {
                                    y11=y11+2;
                                    qp[x11][y11-1]='|';
                                }
                                qp[x11][y11]=26;
                            }


                            if(z=='s')
                            {
                                qp[x11][y11]=' ';
                                if(qp[x11+1][y11]==' ')
                                {
                                    x11++;
                                }
                                else if(qp[x11+1][y11]=='|'&&qp[x11+2][y11]!='$')
                                {
                                    x11=x11+2;
                                    qp[x11-1][y11]='|';
                                }
                                qp[x11][y11]=25;
                            }


                            if(wp=='1'&&z=='1')
                            {
                                if(qp[x11][y11]==24&&qp[x11-1][y11]==' ')
                                {
                                    qp[x11-1][y11]='@';
                                }
                                if(qp[x11][y11]==25&&qp[x11+1][y11]==' ')
                                {
                                    qp[x11+1][y11]='@';
                                }
                                if(qp[x11][y11]==27&&qp[x11][y11-1]==' ')
                                {
                                    qp[x11][y11-1]='@';
                                }
                                if(qp[x11][y11]==26&&qp[x11][y11+1]==' ')
                                {
                                    qp[x11][y11+1]='@';
                                }
                            }


                            if(z=='2')
                            {
                                if(qp[x11][y11]==24&&qp[x11-1][y11]!='#'&&qp[x11-1][y11]!='Y'&&qp[x11-1][y11]!='N'&&qp[x11-1][y11]!='Z')
                                {
                                    qp[x11-1][y11]=' ';
                                }
                                if(qp[x11][y11]==25&&qp[x11+1][y11]!='#'&&qp[x11+1][y11]!='Y'&&qp[x11+1][y11]!='N'&&qp[x11+1][y11]!='Z')
                                {
                                    qp[x11+1][y11]=' ';
                                }
                                if(qp[x11][y11]==27&&qp[x11][y11-1]!='#'&&qp[x11][y11-1]!='Y'&&qp[x11][y11-1]!='N'&&qp[x11][y11-1]!='Z')
                                {
                                    qp[x11][y11-1]=' ';
                                }
                                if(qp[x11][y11]==26&&qp[x11][y11+1]!='#'&&qp[x11][y11+1]!='Y'&&qp[x11][y11+1]!='N'&&qp[x11][y11+1]!='Z')
                                {
                                    qp[x11][y11+1]=' ';
                                }
                            }

                            srand((unsigned)time(NULL));
                            yjs=rand()%4+1;
                            if(yjs==1&&qp[xy-1][yy]==' ')//W
                            {
                                qp[xy][yy]=' ';
                                xy--;
                                qp[xy][yy]='Y';
                            }
                            if(yjs==2&&qp[xy+1][yy]==' ')//S
                            {
                                qp[xy][yy]=' ';
                                xy++;
                                qp[xy][yy]='Y';
                            }
                            if(yjs==3&&qp[xy][yy-1]==' ')//A
                            {
                                qp[xy][yy]=' ';
                                yy--;
                                qp[xy][yy]='Y';
                            }
                            if(yjs==4&&qp[xy][yy+1]==' ')//D
                            {
                                qp[xy][yy]=' ';
                                yy++;
                                qp[xy][yy]='Y';
                            }

                            srand((unsigned)time(NULL));
                            njs=rand()%4;
                            if(njs==1&&qp[xn-1][yn]==' ')//W
                            {
                                qp[xn][yn]=' ';
                                xn--;
                                qp[xn][yn]='N';
                            }
                            if(njs==2&&qp[xn+1][yn]==' ')//S
                            {
                                qp[xn][yn]=' ';
                                xn++;
                                qp[xn][yn]='N';
                            }
                            if(njs==3&&qp[xn][yn-1]==' ')//A
                            {
                                qp[xn][yn]=' ';
                                yn--;
                                qp[xn][yn]='N';
                            }
                            if(njs==0&&qp[xn][yn+1]==' ')//D
                            {
                                qp[xn][yn]=' ';
                                yn++;
                                qp[xn][yn]='N';
                            }

                            srand((unsigned)time(NULL));
                            zjs=rand()%4-1;
                            if(zjs==1&&qp[xz-1][yz]==' ')//W
                            {
                                qp[xz][yz]=' ';
                                xz--;
                                qp[xz][yz]='Z';
                            }
                            if(zjs==2&&qp[xz+1][yz]==' ')//S
                            {
                                qp[xz][yz]=' ';
                                xz++;
                                qp[xz][yz]='Z';
                            }
                            if(zjs==0&&qp[xz][yz-1]==' ')//A
                            {
                                qp[xz][yz]=' ';
                                yz--;
                                qp[xz][yz]='Z';
                            }
                            if(zjs==-1&&qp[xz][yz+1]==' ')//D
                            {
                                qp[xz][yz]=' ';
                                yz++;
                                qp[xz][yz]='Z';
                            }

                            if(qp[xy+1][yy]==24||qp[xy+1][yy]==25||qp[xy+1][yy]==27||qp[xy+1][yy]==26||qp[xy-1][yy]==24||qp[xy-1][yy]==25||qp[xy-1][yy]==27||qp[xy-1][yy]==26||qp[xy][yy-1]==24||qp[xy][yy-1]==25||qp[xy][yy-1]==27||qp[xy][yy-1]==26||qp[xy][yy+1]==24||qp[xy][yy+1]==25||qp[xy][yy+1]==27||qp[xy][yy+1]==26)
                            {
                                xue11=xue11-15;
                            }


                            if(qp[xn+1][yn]==24||qp[xn+1][yn]==25||qp[xn+1][yn]==27||qp[xn+1][yn]==26||qp[xn-1][yn]==24||qp[xn-1][yn]==25||qp[xn-1][yn]==27||qp[xn-1][yn]==26||qp[xn][yn-1]==24||qp[xn][yn-1]==25||qp[xn][yn-1]==27||qp[xn][yn-1]==26||qp[xn][yn+1]==24||qp[xn][yn+1]==25||qp[xn][yn+1]==27||qp[xn][yn+1]==26)
                            {
                                xue11=xue11-25;
                            }


                            if(qp[xz+1][yz]==24||qp[xz+1][yz]==25||qp[xz+1][yz]==27||qp[xz+1][yz]==26||qp[xz-1][yz]==24||qp[xz-1][yz]==25||qp[xz-1][yz]==27||qp[xz-1][yz]==26||qp[xz][yz-1]==24||qp[xz][yz-1]==25||qp[xz][yz-1]==27||qp[xz][yz-1]==26||qp[xz][yz+1]==24||qp[xz][yz+1]==25||qp[xz][yz+1]==27||qp[xz][yz+1]==26)
                            {
                                xue11=xue11-20;
                            }
                            //省略1―门
                            if(wp=='2'&&z=='1')
                            {
                                if(qp[x11][y11]==24)
                                {
                                    if(qp[x11-1][y11]==' ')
                                    {
                                        qp[x11-1][y11]='_';
                                    }
                                    else if(qp[x11-1][y11]=='_')
                                    {
                                        qp[x11-1][y11]='|';
                                    }
                                    else if(qp[x11-1][y11]=='|')
                                    {
                                        qp[x11-1][y11]='_';
                                    }
                                }
                                else if(qp[x11][y11]==25)
                                {
                                    if(qp[x11+1][y11]==' ')
                                    {
                                        qp[x11+1][y11]='_';
                                    }
                                    else if(qp[x11+1][y11]=='_')
                                    {
                                        qp[x11+1][y11]='|';
                                    }
                                    else if(qp[x11+1][y11]=='|')
                                    {
                                        qp[x11+1][y11]='_';
                                    }
                                }
                                else if(qp[x11][y11]==27)
                                {
                                    if(qp[x11][y11-1]==' ')
                                    {
                                        qp[x11][y11-1]='_';
                                    }
                                    else if(qp[x11][y11-1]=='_')
                                    {
                                        qp[x11][y11-1]='|';
                                    }
                                    else if(qp[x11][y11-1]=='|')
                                    {
                                        qp[x11][y11-1]='_';
                                    }
                                }
                                else if(qp[x11][y11]==26)
                                {
                                    if(qp[x11][y11+1]==' ')
                                    {
                                        qp[x11][y11+1]='_';
                                    }
                                    else if(qp[x11][y11+1]=='_')
                                    {
                                        qp[x11][y11+1]='|';
                                    }
                                    else if(qp[x11][y11+1]=='|')
                                    {
                                        qp[x11][y11+1]='_';
                                    }
                                }
                            }
                            //省略2―陷阱
                            //省略3―炸药
                            if(wp=='4'&&z=='1')
                            {
                                if(qp[x11][y11]==24)
                                {
                                    if(qp[x11-1][y11]==' ')
                                    {
                                        qp[x11-1][y11]=19;
                                    }
                                    else if(qp[x11-1][y11]==19)
                                    {
                                        qp[x11-1][y11]=' ';
                                        if(qp[x11-2][y11]!='#'&&qp[x11-2][y11]!='$'&&qp[x11-2][y11]!='Y'&&qp[x11-2][y11]!='N'&&qp[x11-2][y11]!='Z')
                                            qp[x11-2][y11]=' ';
                                        if(qp[x11-1][y11-1]!='#'&&qp[x11-1][y11-1]!='$'&&qp[x11-1][y11-1]!='Y'&&qp[x11-1][y11-1]!='N'&&qp[x11-1][y11-1]!='Z')
                                            qp[x11-1][y11-1]=' ';
                                        if(qp[x11-1][y11+1]!='#'&&qp[x11-1][y11+1]!='$'&&qp[x11-1][y11+1]!='Y'&&qp[x11-1][y11+1]!='N'&&qp[x11-1][y11+1]!='Z')
                                            qp[x11-1][y11+1]=' ';
                                    }
                                }
                                else if(qp[x11][y11]==25)
                                {
                                    if(qp[x11+1][y11]==' ')
                                    {
                                        qp[x11+1][y11]=19;
                                    }
                                    else if(qp[x11+1][y11]==19)
                                    {
                                        qp[x11+1][y11]=' ';
                                        if(qp[x11+2][y11]!='#'&&qp[x11+2][y11]!='$'&&qp[x11+2][y11]!='Y'&&qp[x11+2][y11]!='N'&&qp[x11+2][y11]!='Z')
                                            qp[x11+2][y11]=' ';
                                        if(qp[x11+1][y11-1]!='#'&&qp[x11+1][y11-1]!='$'&&qp[x11+1][y11-1]!='Y'&&qp[x11+1][y11-1]!='N'&&qp[x11+1][y11-1]!='Z')
                                            qp[x11+1][y11-1]=' ';
                                        if(qp[x11+1][y11+1]!='#'&&qp[x11+1][y11+1]!='$'&&qp[x11+1][y11+1]!='Y'&&qp[x11+1][y11+1]!='N'&&qp[x11+1][y11+1]!='Z')
                                            qp[x11+1][y11+1]=' ';
                                    }
                                }
                                else if(qp[x11][y11]==26)
                                {
                                    if(qp[x11][y11+1]==' ')
                                    {
                                        qp[x11][y11+1]=19;
                                    }
                                    else if(qp[x11][y11+1]==19)
                                    {
                                        qp[x11][y11+1]=' ';
                                        if(qp[x11-1][y11+1]!='#'&&qp[x11-1][y11+1]!='$'&&qp[x11-1][y11+1]!='Y'&&qp[x11-1][y11+1]!='N'&&qp[x11-1][y11+1]!='Z')
                                            qp[x11-1][y11+1]=' ';
                                        if(qp[x11+1][y11+1]!='#'&&qp[x11+1][y11+1]!='$'&&qp[x11+1][y11+1]!='Y'&&qp[x11+1][y11+1]!='N'&&qp[x11+1][y11+1]!='Z')
                                            qp[x11+1][y11+1]=' ';
                                        if(qp[x11][y11+2]!='#'&&qp[x11][y11+2]!='$'&&qp[x11][y11+2]!='Y'&&qp[x11][y11+2]!='N'&&qp[x11][y11+2]!='Z')
                                            qp[x11][y11+2]=' ';
                                    }
                                }
                                else if(qp[x11][y11]==27)
                                {
                                    if(qp[x11][y11-1]==' ')
                                    {
                                        qp[x11][y11-1]=19;
                                    }
                                    else if(qp[x11][y11-1]==19)
                                    {
                                        qp[x11][y11-1]=' ';
                                        if(qp[x11-1][y11-1]!='#'&&qp[x11-1][y11-1]!='$'&&qp[x11-1][y11-1]!='Y'&&qp[x11-1][y11-1]!='N'&&qp[x11-1][y11-1]!='Z')
                                            qp[x11-1][y11-1]=' ';
                                        if(qp[x11+1][y11-1]!='#'&&qp[x11+1][y11-1]!='$'&&qp[x11+1][y11-1]!='Y'&&qp[x11+1][y11-1]!='N'&&qp[x11+1][y11-1]!='Z')
                                            qp[x11+1][y11-1]=' ';
                                        if(qp[x11][y11-2]!='#'&&qp[x11][y11-2]!='$'&&qp[x11][y11-2]!='Y'&&qp[x11][y11-2]!='N'&&qp[x11][y11-2]!='Z')
                                            qp[x11][y11-2]=' ';
                                    }
                                }
                            }
                            if(wp=='5'&&z=='1')
                            {
                                if(qp[x11][y11]==24&&qp[x11-1][y11]==' ')
                                {
                                    qp[x11-1][y11]='x';
                                    if(qp[x11-2][y11]=='X'||qp[x11-2][y11]=='O'||qp[x11-1][y11-1]=='X'||qp[x11-1][y11-1]=='O'||qp[x11-1][y11+1]=='X'||qp[x11-1][y11+1]=='O')
                                    {
                                        qp[x11-1][y11]='X';
                                    }
                                }
                                if(qp[x11][y11]==25&&qp[x11+1][y11]==' ')
                                {
                                    qp[x11+1][y11]='x';
                                    if(qp[x11+2][y11]=='X'||qp[x11+2][y11]=='O'||qp[x11+1][y11-1]=='X'||qp[x11+1][y11-1]=='O'||qp[x11+1][y11+1]=='X'||qp[x11+1][y11+1]=='O')
                                    {
                                        qp[x11+1][y11]='X';
                                    }
                                }
                                if(qp[x11][y11]==27&&qp[x11][y11-1]==' ')
                                {
                                    qp[x11][y11-1]='x';
                                    if(qp[x11-1][y11-1]=='X'||qp[x11-1][y11-1]=='O'||qp[x11+1][y11-1]=='X'||qp[x11+1][y11-1]=='O'||qp[x11][y11-2]=='X'||qp[x11][y11-2]=='O')
                                    {
                                        qp[x11][y11-1]='X';
                                    }
                                }
                                if(qp[x11][y11]==26&&qp[x11][y11+1]==' ')
                                {
                                    qp[x11][y11+1]='x';
                                    if(qp[x11-1][y11+1]=='X'||qp[x11-1][y11+1]=='O'||qp[x11+1][y11+1]=='X'||qp[x11+1][y11+1]=='O'||qp[x11][y11+2]=='X'||qp[x11][y11+2]=='O')
                                    {
                                        qp[x11][y11+1]='X';
                                    }
                                }

                            }
                            if(wp=='6'&&z=='1')
                            {
                                if(qp[x11][y11]==24&&qp[x11-1][y11]==' '||qp[x11-1][y11]=='o')
                                {
                                    qp[x11-1][y11]='O';
                                }
                                else if(qp[x11][y11]==25&&qp[x11+1][y11]==' '||qp[x11+1][y11]=='o')
                                {
                                    qp[x11+1][y11]='O';
                                }
                                else if(qp[x11][y11]==27&&qp[x11][y11-1]==' '||qp[x11][y11-1]=='o')
                                {
                                    qp[x11][y11-1]='O';
                                }
                                else if(qp[x11][y11]==26&&qp[x11][y11+1]==' '||qp[x11][y11+1]=='o')
                                {
                                    qp[x11][y11+1]='O';
                                }
                                else if(qp[x11][y11]==24&&qp[x11-1][y11]=='O')
                                {
                                    qp[x11-1][y11]='o';
                                }
                                else if(qp[x11][y11]==25&&qp[x11+1][y11]=='O')
                                {
                                    qp[x11+1][y11]='o';
                                }
                                else if(qp[x11][y11]==27&&qp[x11][y11-1]=='O')
                                {
                                    qp[x11][y11-1]='o';
                                }
                                else if(qp[x11][y11]==26&&qp[x11][y11+1]=='O')
                                {
                                    qp[x11][y11+1]='o';
                                }
                            }
                            system("cls");
                            if(wp==48)
                                wp=57;
                            if(wp==58)
                                wp=49;
                            qp[10][56]=' ';
                            qp[11][56]=' ';
                            qp[12][56]=' ';
                            qp[13][56]=' ';
                            qp[15][56]=' ';
                            qp[16][56]=' ';
                            qp[17][56]=' ';
                            qp[18][56]=' ';
                            if(wp-4>48)
                                qp[10][56]=wp-4;
                            if(wp-3>48)
                                qp[11][56]=wp-3;
                            if(wp-2>48)
                                qp[12][56]=wp-2;
                            if(wp-1>48)
                                qp[13][56]=wp-1;
                            qp[14][56]=wp;
                            if(wp+1<58)
                                qp[15][56]=wp+1;
                            if(wp+2<58)
                                qp[16][56]=wp+2;
                            if(wp+3<58)
                                qp[17][56]=wp+3;
                            if(wp+4<58)
                                qp[18][56]=wp+4;

                            xueb=xue11/100+48;
                            xues=xue11%100/10+48;
                            xueg=xue11%100%10+48;
                            qp[1][58]=xueb;
                            qp[1][59]=xues;
                            qp[1][60]=xueg;
                            xueyb=xuey/100+48;
                            xueys=xuey%100/10+48;
                            xueyg=xuey%100%10+48;
                            qp[2][58]=xueyb;
                            qp[2][59]=xueys;
                            qp[2][60]=xueyg;
                            xuenb=xuen/100+48;
                            xuens=xuen%100/10+48;
                            xueng=xuen%100%10+48;
                            qp[3][58]=xuenb;
                            qp[3][59]=xuens;
                            qp[3][60]=xueng;
                            xuezb=xuez/100+48;
                            xuezs=xuez%100/10+48;
                            xuezg=xuez%100%10+48;
                            qp[2][58]=xuezb;
                            qp[2][59]=xuezs;
                            qp[2][60]=xuezg;
                            for(i11=0; i11<=22; i11++)
                                puts(qp[i11]);
                        }
                        system("cls");
                        char b11[100]= {mz,'.','t','x','t'};
                        FILE *fp;
                        fp=fopen(b11,"a+");
                        mz++;
                        fprintf(fp,"%d\n%d\n%d\n%d\n%d\n%d\n%d\n%d\n%d\n%d\n%d\n%d\n%d\n",wp,x11,y11,xue11,xy,yy,xn,yn,xz,yz,xuey,xuen,xuez);
                        fclose(fp);
                        printf("拜拜");
                        ////////////////////
                        Sleep(1000);
                        printf(".");
                        Sleep(1000);
                        printf(".");
                        Sleep(1000);
                        printf(".");
                        Sleep(1000);
                        wp=49;
                        x11=1;
                        y11=1;
                        xue11=100;
                        xy=9;
                        yy=11;
                        xn=6;
                        yn=38;
                        xz=17;
                        yz=6;
                        xuey=100;
                        xuen=100;
                        xuez=100;
                    }
                    if(yx[zxbx][14]==' ')
                    {
                        system("cls");
                        printf("错误！这个地方没有游戏\n请新建一个或者选择另一个！\n");
                        Sleep(2000);
                        system("cls");
                    }
                }
                else if(b2=='2')
                {
                    system("cls");
                    for(i11=0; i11<=22; i11++)
                        puts(xj[i11]);
                    b3=getch();
                    if(b3=='1')
                    {
                        yx[zxbx][14]=mci;
                        system("cls");
                        printf("正在加载中");
                        Sleep(1000);
                        printf(".");
                        Sleep(1000);
                        printf(".");
                        Sleep(1000);
                        printf(".");
                        system("cls");
                        ////////////////////
                        /*
                        "$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$  $$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$",
                        "$             #              #              $  $你的血量：    $所有物品：    $",
                        "$             #              #              $  $羊的血量：    $1:普通方块@   $",
                        "$             #              #              $  $牛的血量：    $2:门|或_      $",
                        "$             #              #              $  $猪的血量：    $3:            $",
                        "$             #              #              $  $按h获得帮助   $4:炸药        $",
                        "$             #              #              $  $$$$$$$$$$$$$$$$5:电线x或X    $",
                        "$             #              #              $  $现选择物品：  $6:发电机O或o  $",
                        "$             #              #              $  $              $              $",
                        "$             #              #              $  $TTTjTTT$              $",
                        "$             #              #              $  $      U      $              $",
                        "$###########################################$  $      U      $              $",
                        "$             #              #              $  $      U      $              $",
                        "$             #              #              $  $      U      $              $",
                        "$             #              #              $  $现在的→      $              $",
                        "$             #              #              $  $      U      $              $",
                        "$             #              #              $  $      U      $              $",
                        "$             #              #              $  $      U      $              $",
                        "$             #              #              $  $      U      $              $",
                        "$             #              #              $  $TTTmTTT$              $",
                        "$             #              #              $  $(使用'-'或'+' $              $",
                        "$             #              #              $  $更换物品栏)   $              $",
                        "$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$  $$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$",

                        wp,x11,y11,xue11,xy,yy,xn,yn,xz,yz,xuey,xuen,xuez*/
                        printf("用WSAD键控制人物移动\n使用'-'或'+'更换物品栏\n按1往人物所指方向放置方块，按2在人物所指方向破坏方块\n动物：Y：羊，N：牛，Z：猪\n按h提示帮助");
                        Sleep(1000);
                        char qp[100][100]= {"$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$  $$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$",
                                            "$             #              #              $  $你的血量：    $所有物品：    $",
                                            "$             #              #              $  $羊的血量：    $1:普通方块@   $",
                                            "$             #              #              $  $牛的血量：    $2:门|或_      $",
                                            "$             #              #              $  $猪的血量：    $3:            $",
                                            "$             #              #              $  $按h获得帮助   $4:炸药        $",
                                            "$             #              #              $  $$$$$$$$$$$$$$$$5:电线x或X    $",
                                            "$             #              #              $  $现选择物品：  $6:发电机O或o  $",
                                            "$             #              #              $  $              $              $",
                                            "$             #              #              $  $TTTjTTT$              $",
                                            "$             #              #              $  $      U      $              $",
                                            "$###########################################$  $      U      $              $",
                                            "$             #              #              $  $      U      $              $",
                                            "$             #              #              $  $      U      $              $",
                                            "$             #              #              $  $现在的→      $              $",
                                            "$             #              #              $  $      U      $              $",
                                            "$             #              #              $  $      U      $              $",
                                            "$             #              #              $  $      U      $              $",
                                            "$             #              #              $  $      U      $              $",
                                            "$             #              #              $  $TTTmTTT$              $",
                                            "$             #              #              $  $(使用'-'或'+' $              $",
                                            "$             #              #              $  $更换物品栏)   $              $",
                                            "$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$  $$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$",
                                           };
                        system("cls");
                        qp[x11][y11]=24;
                        qp[xy][yy]=='Y';
                        qp[xn][yn]=='N';
                        qp[xz][yz]=='Z';
                        if(wp-4>48)
                            qp[10][56]=wp-4;
                        if(wp-3>48)
                            qp[11][56]=wp-3;
                        if(wp-2>48)
                            qp[12][56]=wp-2;
                        if(wp-1>48)
                            qp[13][56]=wp-1;
                        qp[14][56]=wp;
                        if(wp+1<58)
                            qp[15][56]=wp+1;
                        if(wp+2<58)
                            qp[16][56]=wp+2;
                        if(wp+3<58)
                            qp[17][56]=wp+3;
                        if(wp+4<58)
                            qp[18][56]=wp+4;

                        xueb=xue11/100+48;
                        xues=xue11%100/10+48;
                        xueg=xue11%100%10+48;
                        qp[1][58]=xueb;
                        qp[1][59]=xues;
                        qp[1][60]=xueg;
                        xueyb=xuey/100+48;
                        xueys=xuey%100/10+48;
                        xueyg=xuey%100%10+48;
                        qp[2][58]=xueyb;
                        qp[2][59]=xueys;
                        qp[2][60]=xueyg;
                        xuenb=xuen/100+48;
                        xuens=xuen%100/10+48;
                        xueng=xuen%100%10+48;
                        qp[3][58]=xuenb;
                        qp[3][59]=xuens;
                        qp[3][60]=xueng;
                        xuezb=xuez/100+48;
                        xuezs=xuez%100/10+48;
                        xuezg=xuez%100%10+48;
                        qp[2][58]=xuezb;
                        qp[2][59]=xuezs;
                        qp[2][60]=xuezg;
                        qp[5][69]=19;
                        for(i11=0; i11<=22; i11++)
                            puts(qp[i11]);
                        while(xue11>0)
                        {
                            z=getch();
                            if(z=='+')
                            {
                                wp++;
                            }
                            if(z=='-')
                            {
                                wp--;
                            }
                            if(z=='h')
                            {
                                system("cls");
                                printf("用WSAD键控制人物移动\n使用'-'或'+'更换物品栏\n按1在人物所指方向放置方块，按2在人物所指方向破坏方块\n动物：Y：羊，N：牛，Z：猪\n你的血量：%d\n羊的血量：%d，猪的血量：%d，牛的血量：%d\n任意输入关闭提示帮助\n",xue11,xuey,xuez,xuen);
                                close=getch();
                                system("cls");
                            }
                            if(z=='w')
                            {
                                qp[x11][y11]=' ';
                                if(qp[x11-1][y11]==' ')
                                {
                                    x11--;
                                }
                                else if(qp[x11-1][y11]=='|'&&qp[x11-2][y11]!='$')
                                {
                                    x11=x11-2;
                                    qp[x11+1][y11]='|';
                                }
                                qp[x11][y11]=24;
                            }


                            if(z=='a')
                            {
                                qp[x11][y11]=' ';
                                if(qp[x11][y11-1]==' ')
                                {
                                    y11--;
                                }
                                else if(qp[x11][y11-1]=='|'&&qp[x11][y11-2]!='$')
                                {
                                    y11=y11-2;
                                    qp[x11][y11+1]='|';
                                }
                                qp[x11][y11]=27;
                            }


                            if(z=='d')
                            {
                                qp[x11][y11]=' ';
                                if(qp[x11][y11+1]==' ')
                                {
                                    y11++;
                                }
                                else if(qp[x11][y11+1]=='|'&&qp[x11][y11+2]!='$')
                                {
                                    y11=y11+2;
                                    qp[x11][y11-1]='|';
                                }
                                qp[x11][y11]=26;
                            }


                            if(z=='s')
                            {
                                qp[x11][y11]=' ';
                                if(qp[x11+1][y11]==' ')
                                {
                                    x11++;
                                }
                                else if(qp[x11+1][y11]=='|'&&qp[x11+2][y11]!='$')
                                {
                                    x11=x11+2;
                                    qp[x11-1][y11]='|';
                                }
                                qp[x11][y11]=25;
                            }


                            if(wp=='1'&&z=='1')
                            {
                                if(qp[x11][y11]==24&&qp[x11-1][y11]==' ')
                                {
                                    qp[x11-1][y11]='@';
                                }
                                if(qp[x11][y11]==25&&qp[x11+1][y11]==' ')
                                {
                                    qp[x11+1][y11]='@';
                                }
                                if(qp[x11][y11]==27&&qp[x11][y11-1]==' ')
                                {
                                    qp[x11][y11-1]='@';
                                }
                                if(qp[x11][y11]==26&&qp[x11][y11+1]==' ')
                                {
                                    qp[x11][y11+1]='@';
                                }
                            }


                            if(z=='2')
                            {
                                if(qp[x11][y11]==24&&qp[x11-1][y11]!='#'&&qp[x11-1][y11]!='Y'&&qp[x11-1][y11]!='N'&&qp[x11-1][y11]!='Z')
                                {
                                    qp[x11-1][y11]=' ';
                                }
                                if(qp[x11][y11]==25&&qp[x11+1][y11]!='#'&&qp[x11+1][y11]!='Y'&&qp[x11+1][y11]!='N'&&qp[x11+1][y11]!='Z')
                                {
                                    qp[x11+1][y11]=' ';
                                }
                                if(qp[x11][y11]==27&&qp[x11][y11-1]!='#'&&qp[x11][y11-1]!='Y'&&qp[x11][y11-1]!='N'&&qp[x11][y11-1]!='Z')
                                {
                                    qp[x11][y11-1]=' ';
                                }
                                if(qp[x11][y11]==26&&qp[x11][y11+1]!='#'&&qp[x11][y11+1]!='Y'&&qp[x11][y11+1]!='N'&&qp[x11][y11+1]!='Z')
                                {
                                    qp[x11][y11+1]=' ';
                                }
                            }

                            srand((unsigned)time(NULL));
                            yjs=rand()%4+1;
                            if(yjs==1&&qp[xy-1][yy]==' ')//W
                            {
                                qp[xy][yy]=' ';
                                xy--;
                                qp[xy][yy]='Y';
                            }
                            if(yjs==2&&qp[xy+1][yy]==' ')//S
                            {
                                qp[xy][yy]=' ';
                                xy++;
                                qp[xy][yy]='Y';
                            }
                            if(yjs==3&&qp[xy][yy-1]==' ')//A
                            {
                                qp[xy][yy]=' ';
                                yy--;
                                qp[xy][yy]='Y';
                            }
                            if(yjs==4&&qp[xy][yy+1]==' ')//D
                            {
                                qp[xy][yy]=' ';
                                yy++;
                                qp[xy][yy]='Y';
                            }

                            srand((unsigned)time(NULL));
                            njs=rand()%4;
                            if(njs==1&&qp[xn-1][yn]==' ')//W
                            {
                                qp[xn][yn]=' ';
                                xn--;
                                qp[xn][yn]='N';
                            }
                            if(njs==2&&qp[xn+1][yn]==' ')//S
                            {
                                qp[xn][yn]=' ';
                                xn++;
                                qp[xn][yn]='N';
                            }
                            if(njs==3&&qp[xn][yn-1]==' ')//A
                            {
                                qp[xn][yn]=' ';
                                yn--;
                                qp[xn][yn]='N';
                            }
                            if(njs==0&&qp[xn][yn+1]==' ')//D
                            {
                                qp[xn][yn]=' ';
                                yn++;
                                qp[xn][yn]='N';
                            }

                            srand((unsigned)time(NULL));
                            zjs=rand()%4-1;
                            if(zjs==1&&qp[xz-1][yz]==' ')//W
                            {
                                qp[xz][yz]=' ';
                                xz--;
                                qp[xz][yz]='Z';
                            }
                            if(zjs==2&&qp[xz+1][yz]==' ')//S
                            {
                                qp[xz][yz]=' ';
                                xz++;
                                qp[xz][yz]='Z';
                            }
                            if(zjs==0&&qp[xz][yz-1]==' ')//A
                            {
                                qp[xz][yz]=' ';
                                yz--;
                                qp[xz][yz]='Z';
                            }
                            if(zjs==-1&&qp[xz][yz+1]==' ')//D
                            {
                                qp[xz][yz]=' ';
                                yz++;
                                qp[xz][yz]='Z';
                            }

                            if(qp[xy+1][yy]==24||qp[xy+1][yy]==25||qp[xy+1][yy]==27||qp[xy+1][yy]==26||qp[xy-1][yy]==24||qp[xy-1][yy]==25||qp[xy-1][yy]==27||qp[xy-1][yy]==26||qp[xy][yy-1]==24||qp[xy][yy-1]==25||qp[xy][yy-1]==27||qp[xy][yy-1]==26||qp[xy][yy+1]==24||qp[xy][yy+1]==25||qp[xy][yy+1]==27||qp[xy][yy+1]==26)
                            {
                                xue11=xue11-15;
                            }


                            if(qp[xn+1][yn]==24||qp[xn+1][yn]==25||qp[xn+1][yn]==27||qp[xn+1][yn]==26||qp[xn-1][yn]==24||qp[xn-1][yn]==25||qp[xn-1][yn]==27||qp[xn-1][yn]==26||qp[xn][yn-1]==24||qp[xn][yn-1]==25||qp[xn][yn-1]==27||qp[xn][yn-1]==26||qp[xn][yn+1]==24||qp[xn][yn+1]==25||qp[xn][yn+1]==27||qp[xn][yn+1]==26)
                            {
                                xue11=xue11-25;
                            }


                            if(qp[xz+1][yz]==24||qp[xz+1][yz]==25||qp[xz+1][yz]==27||qp[xz+1][yz]==26||qp[xz-1][yz]==24||qp[xz-1][yz]==25||qp[xz-1][yz]==27||qp[xz-1][yz]==26||qp[xz][yz-1]==24||qp[xz][yz-1]==25||qp[xz][yz-1]==27||qp[xz][yz-1]==26||qp[xz][yz+1]==24||qp[xz][yz+1]==25||qp[xz][yz+1]==27||qp[xz][yz+1]==26)
                            {
                                xue11=xue11-20;
                            }
                            //省略1―门
                            if(wp=='2'&&z=='1')
                            {
                                if(qp[x11][y11]==24)
                                {
                                    if(qp[x11-1][y11]==' ')
                                    {
                                        qp[x11-1][y11]='_';
                                    }
                                    else if(qp[x11-1][y11]=='_')
                                    {
                                        qp[x11-1][y11]='|';
                                    }
                                    else if(qp[x11-1][y11]=='|')
                                    {
                                        qp[x11-1][y11]='_';
                                    }
                                }
                                else if(qp[x11][y11]==25)
                                {
                                    if(qp[x11+1][y11]==' ')
                                    {
                                        qp[x11+1][y11]='_';
                                    }
                                    else if(qp[x11+1][y11]=='_')
                                    {
                                        qp[x11+1][y11]='|';
                                    }
                                    else if(qp[x11+1][y11]=='|')
                                    {
                                        qp[x11+1][y11]='_';
                                    }
                                }
                                else if(qp[x11][y11]==27)
                                {
                                    if(qp[x11][y11-1]==' ')
                                    {
                                        qp[x11][y11-1]='_';
                                    }
                                    else if(qp[x11][y11-1]=='_')
                                    {
                                        qp[x11][y11-1]='|';
                                    }
                                    else if(qp[x11][y11-1]=='|')
                                    {
                                        qp[x11][y11-1]='_';
                                    }
                                }
                                else if(qp[x11][y11]==26)
                                {
                                    if(qp[x11][y11+1]==' ')
                                    {
                                        qp[x11][y11+1]='_';
                                    }
                                    else if(qp[x11][y11+1]=='_')
                                    {
                                        qp[x11][y11+1]='|';
                                    }
                                    else if(qp[x11][y11+1]=='|')
                                    {
                                        qp[x11][y11+1]='_';
                                    }
                                }
                            }
                            //省略2―陷阱
                            //省略3―炸药
                            if(wp=='4'&&z=='1')
                            {
                                if(qp[x11][y11]==24)
                                {
                                    if(qp[x11-1][y11]==' ')
                                    {
                                        qp[x11-1][y11]=19;
                                    }
                                    else if(qp[x11-1][y11]==19)
                                    {
                                        qp[x11-1][y11]=' ';
                                        if(qp[x11-2][y11]!='#'&&qp[x11-2][y11]!='$'&&qp[x11-2][y11]!='Y'&&qp[x11-2][y11]!='N'&&qp[x11-2][y11]!='Z')
                                            qp[x11-2][y11]=' ';
                                        if(qp[x11-1][y11-1]!='#'&&qp[x11-1][y11-1]!='$'&&qp[x11-1][y11-1]!='Y'&&qp[x11-1][y11-1]!='N'&&qp[x11-1][y11-1]!='Z')
                                            qp[x11-1][y11-1]=' ';
                                        if(qp[x11-1][y11+1]!='#'&&qp[x11-1][y11+1]!='$'&&qp[x11-1][y11+1]!='Y'&&qp[x11-1][y11+1]!='N'&&qp[x11-1][y11+1]!='Z')
                                            qp[x11-1][y11+1]=' ';
                                    }
                                }
                                else if(qp[x11][y11]==25)
                                {
                                    if(qp[x11+1][y11]==' ')
                                    {
                                        qp[x11+1][y11]=19;
                                    }
                                    else if(qp[x11+1][y11]==19)
                                    {
                                        qp[x11+1][y11]=' ';
                                        if(qp[x11+2][y11]!='#'&&qp[x11+2][y11]!='$'&&qp[x11+2][y11]!='Y'&&qp[x11+2][y11]!='N'&&qp[x11+2][y11]!='Z')
                                            qp[x11+2][y11]=' ';
                                        if(qp[x11+1][y11-1]!='#'&&qp[x11+1][y11-1]!='$'&&qp[x11+1][y11-1]!='Y'&&qp[x11+1][y11-1]!='N'&&qp[x11+1][y11-1]!='Z')
                                            qp[x11+1][y11-1]=' ';
                                        if(qp[x11+1][y11+1]!='#'&&qp[x11+1][y11+1]!='$'&&qp[x11+1][y11+1]!='Y'&&qp[x11+1][y11+1]!='N'&&qp[x11+1][y11+1]!='Z')
                                            qp[x11+1][y11+1]=' ';
                                    }
                                }
                                else if(qp[x11][y11]==26)
                                {
                                    if(qp[x11][y11+1]==' ')
                                    {
                                        qp[x11][y11+1]=19;
                                    }
                                    else if(qp[x11][y11+1]==19)
                                    {
                                        qp[x11][y11+1]=' ';
                                        if(qp[x11-1][y11+1]!='#'&&qp[x11-1][y11+1]!='$'&&qp[x11-1][y11+1]!='Y'&&qp[x11-1][y11+1]!='N'&&qp[x11-1][y11+1]!='Z')
                                            qp[x11-1][y11+1]=' ';
                                        if(qp[x11+1][y11+1]!='#'&&qp[x11+1][y11+1]!='$'&&qp[x11+1][y11+1]!='Y'&&qp[x11+1][y11+1]!='N'&&qp[x11+1][y11+1]!='Z')
                                            qp[x11+1][y11+1]=' ';
                                        if(qp[x11][y11+2]!='#'&&qp[x11][y11+2]!='$'&&qp[x11][y11+2]!='Y'&&qp[x11][y11+2]!='N'&&qp[x11][y11+2]!='Z')
                                            qp[x11][y11+2]=' ';
                                    }
                                }
                                else if(qp[x11][y11]==27)
                                {
                                    if(qp[x11][y11-1]==' ')
                                    {
                                        qp[x11][y11-1]=19;
                                    }
                                    else if(qp[x11][y11-1]==19)
                                    {
                                        qp[x11][y11-1]=' ';
                                        if(qp[x11-1][y11-1]!='#'&&qp[x11-1][y11-1]!='$'&&qp[x11-1][y11-1]!='Y'&&qp[x11-1][y11-1]!='N'&&qp[x11-1][y11-1]!='Z')
                                            qp[x11-1][y11-1]=' ';
                                        if(qp[x11+1][y11-1]!='#'&&qp[x11+1][y11-1]!='$'&&qp[x11+1][y11-1]!='Y'&&qp[x11+1][y11-1]!='N'&&qp[x11+1][y11-1]!='Z')
                                            qp[x11+1][y11-1]=' ';
                                        if(qp[x11][y11-2]!='#'&&qp[x11][y11-2]!='$'&&qp[x11][y11-2]!='Y'&&qp[x11][y11-2]!='N'&&qp[x11][y11-2]!='Z')
                                            qp[x11][y11-2]=' ';
                                    }
                                }
                            }
                            if(wp=='5'&&z=='1')
                            {
                                if(qp[x11][y11]==24&&qp[x11-1][y11]==' ')
                                {
                                    qp[x11-1][y11]='x';
                                    if(qp[x11-2][y11]=='X'||qp[x11-2][y11]=='O'||qp[x11-1][y11-1]=='X'||qp[x11-1][y11-1]=='O'||qp[x11-1][y11+1]=='X'||qp[x11-1][y11+1]=='O')
                                    {
                                        qp[x11-1][y11]='X';
                                    }
                                }
                                if(qp[x11][y11]==25&&qp[x11+1][y11]==' ')
                                {
                                    qp[x11+1][y11]='x';
                                    if(qp[x11+2][y11]=='X'||qp[x11+2][y11]=='O'||qp[x11+1][y11-1]=='X'||qp[x11+1][y11-1]=='O'||qp[x11+1][y11+1]=='X'||qp[x11+1][y11+1]=='O')
                                    {
                                        qp[x11+1][y11]='X';
                                    }
                                }
                                if(qp[x11][y11]==27&&qp[x11][y11-1]==' ')
                                {
                                    qp[x11][y11-1]='x';
                                    if(qp[x11-1][y11-1]=='X'||qp[x11-1][y11-1]=='O'||qp[x11+1][y11-1]=='X'||qp[x11+1][y11-1]=='O'||qp[x11][y11-2]=='X'||qp[x11][y11-2]=='O')
                                    {
                                        qp[x11][y11-1]='X';
                                    }
                                }
                                if(qp[x11][y11]==26&&qp[x11][y11+1]==' ')
                                {
                                    qp[x11][y11+1]='x';
                                    if(qp[x11-1][y11+1]=='X'||qp[x11-1][y11+1]=='O'||qp[x11+1][y11+1]=='X'||qp[x11+1][y11+1]=='O'||qp[x11][y11+2]=='X'||qp[x11][y11+2]=='O')
                                    {
                                        qp[x11][y11+1]='X';
                                    }
                                }

                            }
                            if(wp=='6'&&z=='1')
                            {
                                if(qp[x11][y11]==24&&qp[x11-1][y11]==' '||qp[x11-1][y11]=='o')
                                {
                                    qp[x11-1][y11]='O';
                                }
                                else if(qp[x11][y11]==25&&qp[x11+1][y11]==' '||qp[x11+1][y11]=='o')
                                {
                                    qp[x11+1][y11]='O';
                                }
                                else if(qp[x11][y11]==27&&qp[x11][y11-1]==' '||qp[x11][y11-1]=='o')
                                {
                                    qp[x11][y11-1]='O';
                                }
                                else if(qp[x11][y11]==26&&qp[x11][y11+1]==' '||qp[x11][y11+1]=='o')
                                {
                                    qp[x11][y11+1]='O';
                                }
                                else if(qp[x11][y11]==24&&qp[x11-1][y11]=='O')
                                {
                                    qp[x11-1][y11]='o';
                                }
                                else if(qp[x11][y11]==25&&qp[x11+1][y11]=='O')
                                {
                                    qp[x11+1][y11]='o';
                                }
                                else if(qp[x11][y11]==27&&qp[x11][y11-1]=='O')
                                {
                                    qp[x11][y11-1]='o';
                                }
                                else if(qp[x11][y11]==26&&qp[x11][y11+1]=='O')
                                {
                                    qp[x11][y11+1]='o';
                                }
                            }
                            system("cls");
                            if(wp==48)
                                wp=57;
                            if(wp==58)
                                wp=49;
                            qp[10][56]=' ';
                            qp[11][56]=' ';
                            qp[12][56]=' ';
                            qp[13][56]=' ';
                            qp[15][56]=' ';
                            qp[16][56]=' ';
                            qp[17][56]=' ';
                            qp[18][56]=' ';
                            if(wp-4>48)
                                qp[10][56]=wp-4;
                            if(wp-3>48)
                                qp[11][56]=wp-3;
                            if(wp-2>48)
                                qp[12][56]=wp-2;
                            if(wp-1>48)
                                qp[13][56]=wp-1;
                            qp[14][56]=wp;
                            if(wp+1<58)
                                qp[15][56]=wp+1;
                            if(wp+2<58)
                                qp[16][56]=wp+2;
                            if(wp+3<58)
                                qp[17][56]=wp+3;
                            if(wp+4<58)
                                qp[18][56]=wp+4;

                            xueb=xue11/100+48;
                            xues=xue11%100/10+48;
                            xueg=xue11%100%10+48;
                            qp[1][58]=xueb;
                            qp[1][59]=xues;
                            qp[1][60]=xueg;
                            xueyb=xuey/100+48;
                            xueys=xuey%100/10+48;
                            xueyg=xuey%100%10+48;
                            qp[2][58]=xueyb;
                            qp[2][59]=xueys;
                            qp[2][60]=xueyg;
                            xuenb=xuen/100+48;
                            xuens=xuen%100/10+48;
                            xueng=xuen%100%10+48;
                            qp[3][58]=xuenb;
                            qp[3][59]=xuens;
                            qp[3][60]=xueng;
                            xuezb=xuez/100+48;
                            xuezs=xuez%100/10+48;
                            xuezg=xuez%100%10+48;
                            qp[2][58]=xuezb;
                            qp[2][59]=xuezs;
                            qp[2][60]=xuezg;
                            for(i11=0; i11<=22; i11++)
                                puts(qp[i11]);
                        }
                        system("cls");
                        char b11[100]= {mz,'.','t','x','t'};
                        FILE *fp;
                        fp=fopen(b11,"a+");
                        mz++;
                        fprintf(fp,"%d\n%d\n%d\n%d\n%d\n%d\n%d\n%d\n%d\n%d\n%d\n%d\n%d\n",wp,x11,y11,xue11,xy,yy,xn,yn,xz,yz,xuey,xuen,xuez);
                        fclose(fp);
                        printf("拜拜");
                        ////////////////////
                        Sleep(1000);
                        printf(".");
                        Sleep(1000);
                        printf(".");
                        Sleep(1000);
                        printf(".");
                        Sleep(1000);
                        wp=49;
                        x11=1;
                        y11=1;
                        xue11=100;
                        xy=9;
                        yy=11;
                        xn=6;
                        yn=38;
                        xz=17;
                        yz=6;
                        xuey=100;
                        xuen=100;
                        xuez=100;
                        break;
                    }
                    else if(b3=='c')
                    {
                        break;
                    }
                    system("cls");
                    for(i11=0; i11<=22; i11++)
                        puts(xj[i11]);
                }
                else if(b2=='c')
                {
                    break;
                }
                system("cls");
                for(i11=0; i11<=22; i11++)
                    puts(yx[i11]);
            }
        }
        else if(b1=='2')
        {
            printf("用WSAD键控制人物移动\n使用'-'或'+'更换物品栏\n按1在人物所指方向放置方块，按2在人物所指方向破坏方块\n动物：Y：羊，N：牛，Z：猪\n你的血量：%d\n羊的血量：%d，猪的血量：%d，牛的血量：%d\n任意输入关闭提示帮助\n",xue11,xuey,xuez,xuen);
            close=getch();
        }
        else if(b1=='3')
        {
            printf("e");
            close=getch();
        }
        else if(b1=='c')
        {
            break;
            system("cls");
        }
        system("cls");
        for(i11=0; i11<=23; i11++)
            puts(zjm[i11]);
	}
	printf("\n再见，谢谢使用！\n");
	Sleep(2000);
	system("pause");
	return 0;
}
